# Spotlight Product Flow - Visual Guide

## ðŸŽ¯ Complete User Journey with Trust Layer

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         1. LANDING PAGE (/)                              â”‚
â”‚                                                                          â”‚
â”‚  "Evidence-based site selection for Finland"                            â”‚
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  [Search Input]                                                 â”‚    â”‚
â”‚  â”‚   Helsinki or 00100_________________________ [ðŸ” Search]        â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                          â”‚
â”‚  Try: Helsinki â€¢ 00100 â€¢ Mannerheimintie 1                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                    POST /api/search (detect type)
                                    â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚                                        â”‚
                â–¼                                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  City/Postal Code               â”‚    â”‚  Address                       â”‚
â”‚  â†’ DISCOVERY FLOW               â”‚    â”‚  â†’ ANALYSIS FLOW (future)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      2. DISCOVERY VIEW (/discover)                       â”‚
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ Helsinki                         Concept: [Casual Dining âœ“]    â”‚    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚                                                                 â”‚    â”‚
â”‚  â”‚  [MAP WITH HEATMAP]                                            â”‚    â”‚
â”‚  â”‚   â€¢ Red markers = High opportunity                             â”‚    â”‚
â”‚  â”‚   â€¢ Blue markers = Low opportunity                             â”‚    â”‚
â”‚  â”‚   â€¢ Confidence overlay on hover                                â”‚    â”‚
â”‚  â”‚                                                                 â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ #1  KAMPPI                                            54.4     â”‚    â”‚
â”‚  â”‚     Lat: 60.1699, Lng: 24.9342                                 â”‚    â”‚
â”‚  â”‚     Confidence: 82% â€¢ Coverage: 91%  â† NEW TRUST LAYER         â”‚    â”‚
â”‚  â”‚                                                                 â”‚    â”‚
â”‚  â”‚     Predicted Revenue: â‚¬935k - â‚¬1.27M                          â”‚    â”‚
â”‚  â”‚     Est. Rent: â‚¬42/sqft                                        â”‚    â”‚
â”‚  â”‚                                                                 â”‚    â”‚
â”‚  â”‚     [View Details â†’]  â† CLICKABLE!                             â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                          â”‚
â”‚  (Repeat for #2 Kallio, #3 Pasila, etc.)                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
              Click tile â†’ GET /api/area/{area_id}
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   3. AREA DETAIL VIEW (/area/[id])                       â”‚
â”‚                                                                          â”‚
â”‚  â”Œâ”€ [â† Back to Discovery]                                              â”‚
â”‚  â”‚                                                                       â”‚
â”‚  â”‚  ðŸ“ KAMPPI                                            [54.4]         â”‚
â”‚  â”‚  Helsinki                                                            â”‚
â”‚  â”‚                                                                       â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  â”‚ ðŸŽ¯ Confidence: 82% (High)  â† TRUST BADGE                     â”‚  â”‚
â”‚  â”‚  â”‚                                                                â”‚  â”‚
â”‚  â”‚  â”‚ Data Coverage:                     â† COVERAGE BAR             â”‚  â”‚
â”‚  â”‚  â”‚ Demographics  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  95%                       â”‚  â”‚
â”‚  â”‚  â”‚ Competition   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ       88%                       â”‚  â”‚
â”‚  â”‚  â”‚ Transit       â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     92%                       â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”‚                                                                       â”‚
â”‚  â”‚  Predicted Annual Revenue                                            â”‚
â”‚  â”‚  â‚¬13.2M   (â‚¬11.2M - â‚¬15.2M)                                         â”‚
â”‚  â”‚  Confidence: 82%                                                     â”‚
â”‚  â”‚                                                                       â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚  â”‚ Why This Area Scores 54/100          â† AUTO-GENERATED BULLETS      â”‚
â”‚  â”‚                                                                       â”‚
â”‚  â”‚  1. High population density: 28,000 people in 1km radius            â”‚
â”‚  â”‚  2. Median income: â‚¬48,000/year matches target market               â”‚
â”‚  â”‚  3. Excellent transit: Metro station 180m away                      â”‚
â”‚  â”‚  4. Moderate competition: 12 competitors in area                    â”‚
â”‚  â”‚                                                                       â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚  â”‚ Detailed Metrics                                                     â”‚
â”‚  â”‚                                                                       â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚  â”‚ â”‚Demographics â”‚ Competition â”‚ Transit      â”‚                       â”‚
â”‚  â”‚ â”‚Population:  â”‚ Competitors:â”‚ Metro: 180m  â”‚                       â”‚
â”‚  â”‚ â”‚ 28,000      â”‚ 12          â”‚ Tram: 120m   â”‚                       â”‚
â”‚  â”‚ â”‚Income:      â”‚ Per 1k: 0.4 â”‚ POIs: 45     â”‚                       â”‚
â”‚  â”‚ â”‚ â‚¬48,000/yr  â”‚             â”‚              â”‚                       â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â”‚  â”‚                                                                       â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚  â”‚ âœ“ Key Strengths              âš  Key Risks                           â”‚
â”‚  â”‚                                                                       â”‚
â”‚  â”‚ â€¢ High foot traffic          â€¢ 12 competitors may dilute market     â”‚
â”‚  â”‚ â€¢ Excellent transit access   â€¢ Premium rent (â‚¬42/sqft)             â”‚
â”‚  â”‚ â€¢ Strong demographics                                                â”‚
â”‚  â”‚                                                                       â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚  â”‚ How This Was Calculated      â† METHOD TRANSPARENCY                  â”‚
â”‚  â”‚                                                                       â”‚
â”‚  â”‚ Method: Heuristic Scoring                                            â”‚
â”‚  â”‚ Data Sources:                                                        â”‚
â”‚  â”‚  â€¢ Statistics Finland Population Grid (1km)                         â”‚
â”‚  â”‚  â€¢ Statistics Finland PAAVO (Postal Code Demographics)              â”‚
â”‚  â”‚  â€¢ OpenStreetMap (Competition Data)                                 â”‚
â”‚  â”‚  â€¢ OpenStreetMap (Transit Data)                                     â”‚
â”‚  â”‚                                                                       â”‚
â”‚  â”‚ Confidence Basis: Based on data coverage and score component        â”‚
â”‚  â”‚ consistency                                                          â”‚
â”‚  â”‚                                                                       â”‚
â”‚  â”‚ Last Updated: 2025-11-08T12:34:56Z                                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸ”„ API Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User    â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚
     â”‚ 1. Types "Helsinki"
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ POST /api/searchâ”‚  Returns: { search_type: "discovery", city: "Helsinki" }
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â”‚ 2. Navigate to /discover
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ POST /api/discoverâ”‚  
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  
     â”‚
     â”‚ Data Collection:
     â”‚ â€¢ StatFin: Demographics (PAAVO)
     â”‚ â€¢ PopGrid: Population density
     â”‚ â€¢ OSM: Competition & transit
     â”‚
     â”‚ Trust Calculation:
     â”‚ â€¢ Coverage: demographics=0.95, competition=0.88, transit=0.92
     â”‚ â€¢ Confidence: 0.82 (based on coverage + consistency)
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Returns: {                                              â”‚
â”‚   top_opportunities: [                                  â”‚
â”‚     {                                                   â”‚
â”‚       area_id: "helsinki_kamppi",                       â”‚
â”‚       score: 54.4,                                      â”‚
â”‚       confidence: 0.82,  â† TRUST METRIC                â”‚
â”‚       coverage: {        â† TRUST METRIC                â”‚
â”‚         demographics: 0.95,                             â”‚
â”‚         competition: 0.88,                              â”‚
â”‚         transit: 0.92,                                  â”‚
â”‚         overall: 0.91                                   â”‚
â”‚       }                                                 â”‚
â”‚     }                                                   â”‚
â”‚   ],                                                    â”‚
â”‚   method: {              â† TRANSPARENCY                 â”‚
â”‚     scoring_method: "heuristic",                        â”‚
â”‚     data_sources: [...],                                â”‚
â”‚     last_updated: "2025-11-08T12:34:56Z"               â”‚
â”‚   }                                                     â”‚
â”‚ }                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â”‚ 3. User clicks "Kamppi" tile
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ GET /api/area/helsinki_kamppi           â”‚
â”‚     ?concept=CasualDining               â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â”‚ Data Collection (same as above)
     â”‚
     â”‚ Additional Processing:
     â”‚ â€¢ Generate "why" bullets (5 auto-generated)
     â”‚ â€¢ Calculate strengths & risks
     â”‚ â€¢ Method transparency info
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Returns: {                                              â”‚
â”‚   area_id: "helsinki_kamppi",                           â”‚
â”‚   score: 54.4,                                          â”‚
â”‚   predicted_revenue_mid: 1100000,                       â”‚
â”‚   confidence: 0.82,                                     â”‚
â”‚   coverage: { ... },                                    â”‚
â”‚   method: { ... },                                      â”‚
â”‚   why: [                  â† AUTO-GENERATED BULLETS      â”‚
â”‚     "High population density: 28,000 in 1km",          â”‚
â”‚     "Median income: â‚¬48,000/year matches target",      â”‚
â”‚     "Excellent transit: Metro 180m away",              â”‚
â”‚     "Moderate competition: 12 competitors"             â”‚
â”‚   ],                                                    â”‚
â”‚   demographics: { ... },                                â”‚
â”‚   competition_analysis: { ... },                        â”‚
â”‚   traffic_access: { ... },                              â”‚
â”‚   strengths: [ ... ],                                   â”‚
â”‚   risks: [ ... ]                                        â”‚
â”‚ }                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸŽ¨ Trust Layer Visual Elements

### 1. Confidence Badge
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ðŸŽ¯ Confidence 82% (High)   [i] â”‚  â† Emerald badge
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Colors:
â€¢ 0-60%:   ðŸŸ¡ Amber (Low)
â€¢ 60-75%:  ðŸŸ¢ Green (Medium)  
â€¢ 75-90%:  ðŸŸ¢ Emerald (High)
â€¢ 90-100%: ðŸŸ¢ Dark Emerald (Very High)

Tooltip on hover:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Confidence 82% â€” high data coverage    â”‚
â”‚ Based on population, income, transit,  â”‚
â”‚ competition. Data coverage: 91%.       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. Data Coverage Bar
```
Data Coverage                    91%

Demographics  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  95%  (emerald)
Competition   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ      88%  (blue)
Transit       â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    92%  (purple)
```

### 3. Method Transparency Box
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ How This Was Calculated                     â”‚
â”‚                                             â”‚
â”‚ Method: Heuristic Scoring                   â”‚
â”‚ Data Sources:                               â”‚
â”‚  â€¢ Statistics Finland Population Grid (1km) â”‚
â”‚  â€¢ Statistics Finland PAAVO (Postal Code)   â”‚
â”‚  â€¢ OpenStreetMap (Competition Data)         â”‚
â”‚  â€¢ OpenStreetMap (Transit Data)             â”‚
â”‚                                             â”‚
â”‚ Confidence Basis: Based on data coverage    â”‚
â”‚ and score component consistency             â”‚
â”‚                                             â”‚
â”‚ Last Updated: 2025-11-08T12:34:56Z         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸ“Š Trust Metrics Calculation

### Coverage Calculation
```python
def calculate_coverage(features):
    # Count present fields in each category
    demographics = fields_present / total_fields
    competition = fields_present / total_fields
    transit = fields_present / total_fields
    
    # Weighted average
    overall = (
        demographics * 0.4 +
        competition * 0.3 +
        transit * 0.3
    )
    
    return {
        demographics: 0.95,  # 95% of demo fields present
        competition: 0.88,   # 88% of comp fields present
        transit: 0.92,       # 92% of transit fields present
        overall: 0.91        # Weighted average
    }
```

### Confidence Calculation
```python
def calculate_confidence(score_components, coverage):
    # Component 1: Data coverage (40%)
    coverage_score = coverage.overall * 0.4
    
    # Component 2: Score consistency (30%)
    # Lower variance = higher consistency
    consistency = 1 - (std_dev / 50)
    consistency_score = consistency * 0.3
    
    # Component 3: Feature completeness (30%)
    # All required fields present
    completeness = present / required
    completeness_score = completeness * 0.3
    
    # Total
    confidence = coverage_score + consistency_score + completeness_score
    
    return 0.82  # 82% confidence
```

### "Why" Bullet Generation
```python
def generate_why_bullets(features, score_components):
    bullets = []
    
    # Population
    if pop > 20000:
        bullets.append(f"High population density: {pop:,} in 1km")
    
    # Income
    if income > 50000:
        bullets.append(f"High median income: â‚¬{income:,}/year")
    
    # Transit
    if metro_dist < 300:
        bullets.append(f"Excellent transit: Metro {metro_dist}m away")
    
    # Competition
    if comp_count < 5:
        bullets.append(f"Low competition: Only {comp_count} competitors")
    
    return bullets[:5]  # Max 5 bullets
```

---

## ðŸš€ Key Features

### âœ… Implemented
- [x] Trust metrics calculate confidence (0-1) and coverage (per source)
- [x] Discovery tiles show inline confidence and coverage percentages
- [x] Area detail page shows full trust breakdown
- [x] Confidence badge with color coding (amber/green/emerald)
- [x] Data coverage bar (3 segments for 3 data sources)
- [x] Auto-generated "why" bullets explaining the score
- [x] Method transparency showing how calculated and data sources
- [x] Clickable flow: discovery â†’ area detail
- [x] Works for both cities and postal codes

### ðŸŽ¯ Impact
**Before:** "Looks like fake information" - No trust indicators
**After:** "Reads like a professional tool" - Full transparency

**Trust layer wired end-to-end. Every prediction now comes with confidence, coverage, and method info.**

